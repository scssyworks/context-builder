{"version":3,"file":"contextBuilder.js","sources":["../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../node_modules/@babel/runtime/helpers/esm/createClass.js","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../node_modules/@babel/runtime/helpers/esm/classApplyDescriptorGet.js","../../node_modules/@babel/runtime/helpers/esm/classExtractFieldDescriptor.js","../../node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js","../../node_modules/@babel/runtime/helpers/esm/classApplyDescriptorSet.js","../../node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js","../../node_modules/regenerator-runtime/runtime.js","../../node_modules/@babel/runtime/regenerator/index.js","../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../node_modules/is-promise/index.mjs","../../src/helpers/index.ts","../../src/Select/index.ts","../../src/CursorPlacement/index.ts","../../src/Beacon/index.ts","../../src/EventEmitter/index.ts","../../src/index.ts"],"sourcesContent":["export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n\n  return descriptor.value;\n}","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n\n  return privateMap.get(receiver);\n}","import classApplyDescriptorGet from \"./classApplyDescriptorGet.js\";\nimport classExtractFieldDescriptor from \"./classExtractFieldDescriptor.js\";\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n\n    descriptor.value = value;\n  }\n}","import classApplyDescriptorSet from \"./classApplyDescriptorSet.js\";\nimport classExtractFieldDescriptor from \"./classExtractFieldDescriptor.js\";\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n","import isPromise from 'is-promise';\n\nexport function isEnvBrowser(): boolean {\n  return typeof document !== 'undefined' && Boolean(document.body);\n}\n\nexport async function asyncResolve<T>(\n  input: T | Promise<T> | void\n): Promise<T | void> {\n  if (isPromise(input)) {\n    try {\n      const returnValue = await input;\n      return returnValue;\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  return input;\n}\n","import { Selector, TypeNodes } from '../types';\nimport { isEnvBrowser } from '../helpers';\n\nexport type HTMLSelector = Select | Selector;\nexport type HTMLTypeNodes = Select | TypeNodes;\n\nif (typeof document !== 'undefined') {\n  const win = document.defaultView as any;\n  // Polyfill custom event\n  if (typeof win.CustomEvent === 'undefined') {\n    class CustomEvent<T> {\n      constructor(event: string, params?: CustomEventInit<T>) {\n        params = params || {\n          bubbles: false,\n          cancelable: false,\n          detail: undefined,\n        };\n        const evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(\n          event,\n          params.bubbles as boolean,\n          params.cancelable as boolean,\n          params.detail\n        );\n        return evt;\n      }\n    }\n    CustomEvent.prototype = win.Event.prototype;\n    win.CustomEvent = CustomEvent as any;\n  }\n}\n\nexport class Select {\n  #body?: HTMLBodyElement;\n  elements: Node[];\n  parent: Select | null;\n  constructor(selector?: HTMLSelector) {\n    // Check if document and document.body exist\n    if (isEnvBrowser()) {\n      this.#body = document.body as HTMLBodyElement;\n    }\n    // Resolve references\n    this.elements = [];\n    if (this.#body && selector) {\n      if (typeof selector === 'string') {\n        this.elements = [...document.querySelectorAll(selector)] as Node[];\n      } else if (selector instanceof Node || selector instanceof EventTarget) {\n        this.elements = [selector] as Node[];\n      } else if (\n        selector instanceof NodeList ||\n        selector instanceof HTMLCollection\n      ) {\n        this.elements = [...selector] as Node[];\n      } else if (Object.prototype.hasOwnProperty.call(selector, 'length')) {\n        // For jQuery or jQuery like objects\n        for (let i = 0; i < (selector as Node[]).length; i++) {\n          this.elements.push((selector as Node[])[i]);\n        }\n      } else if (selector instanceof Select) {\n        this.elements = [...selector.elements] as Node[];\n        this.parent = selector.parent;\n      }\n    }\n    // Resolve parent\n    this.parent = this.getParentNode();\n  }\n  /**\n   * Returns a Select object for parent nodes\n   */\n  getParentNode(): Select | null {\n    const parentNodeList = this.elements\n      .map((el) => el.parentNode)\n      .filter((el) => !!el);\n    if (parentNodeList.length) {\n      return new Select(parentNodeList as Node[]);\n    }\n    return null;\n  }\n  /**\n   * Returns a Select object for all parents\n   */\n  getAllParents(): Select {\n    let currRef: Select | null = new Select(this);\n    const parentsList = new Select();\n    do {\n      currRef = currRef.getParentNode();\n      if (currRef) {\n        parentsList.add(currRef);\n      }\n    } while (currRef);\n    return parentsList;\n  }\n  /**\n   * Query children of current element\n   * @param {string} selector Selector\n   */\n  query(selector: string): Select {\n    const selected = [] as Node[];\n    this.elements.forEach((el) => {\n      if (el instanceof HTMLElement) {\n        const children = [...el.querySelectorAll(selector)] as HTMLElement[];\n        children.forEach((child) => {\n          if (selected.indexOf(child) === -1) {\n            selected.push(child);\n          }\n        });\n      }\n    });\n    return new Select(selected);\n  }\n  /**\n   * Appends HTML body to current element(s)\n   * @param {string | Node | NodeList | HTMLCollection | Node[] | Select} nodes\n   */\n  append(nodes: HTMLTypeNodes): Select {\n    if (this.#body) {\n      let consumableNodes: Select;\n      if (typeof nodes === 'string') {\n        // Expecting a plain HTML string\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = nodes;\n        consumableNodes = new Select(tempDiv.childNodes);\n      } else {\n        // For everything else treat them as regular nodes\n        consumableNodes = new Select(nodes);\n      }\n      this.elements.forEach((target, i) => {\n        if (consumableNodes.elements.length === 1) {\n          target.appendChild(consumableNodes.elements[0]); // Keeping intact the original reference\n        } else {\n          const fragment = document.createDocumentFragment();\n          consumableNodes.elements.forEach((n) => {\n            fragment.appendChild(i === 0 ? n : n.cloneNode());\n          });\n          target.appendChild(fragment);\n        }\n      });\n    }\n    return this;\n  }\n  /**\n   * Prepends HTML body to current element(s)\n   * @param {string | Node | NodeList | HTMLCollection | Node[] | Select} nodes\n   */\n  prepend(nodes: HTMLTypeNodes): Select {\n    if (this.#body) {\n      this.elements.forEach((target) => {\n        const currentFragment = new Select(target.childNodes).detach();\n        new Select(target).append(nodes).append(currentFragment);\n      });\n    }\n    return this;\n  }\n  /**\n   * Removes current set of elements from DOM and return DocumentFragment as a Select instance\n   */\n  detach(): Select {\n    if (this.#body) {\n      const fragment = document.createDocumentFragment();\n      this.elements.forEach((el) => {\n        fragment.appendChild(el);\n      });\n      return new Select(fragment);\n    }\n    return this;\n  }\n  /**\n   * Returns current list of element as array\n   * @param {Function} evaluatorFn Evaluator function\n   */\n  map(evaluatorFn: (n: Node, i: number) => any): any[] {\n    if (!this.#body || typeof evaluatorFn !== 'function') {\n      return this.elements;\n    }\n    return this.elements.map(evaluatorFn);\n  }\n  /**\n   * Filter elements based on returned condition\n   * @param {Function} evaluatorFn Evaluator function\n   */\n  filter(evaluatorFn: (n: Node, i: number) => boolean): Select {\n    const matched = [] as Node[];\n    this.map((el, i) => {\n      if (evaluatorFn(el, i)) {\n        matched.push(el);\n      }\n    });\n    return new Select(matched);\n  }\n  /**\n   * Merges passed selection to current object\n   * @param {Select} selection input selection\n   */\n  add(selection: Select): Select {\n    this.elements.push(...selection.elements);\n    return this;\n  }\n  /**\n   * Returns current body tag as a Select instance\n   */\n  getBodyTag(): Select {\n    return new Select(this.#body as HTMLBodyElement);\n  }\n  /**\n   * Returns current Select reference children\n   */\n  children(): Select {\n    const elements = [] as Node[];\n    this.elements.forEach((el) => {\n      [...el.childNodes].forEach((n) => {\n        if (elements.indexOf(n) === -1) {\n          elements.push(n);\n        }\n      });\n    });\n    return new Select(elements);\n  }\n  /**\n   * Binds a regular event listener\n   */\n  on(eventType: string, cb: (e: any) => any, useCapture?: boolean): Select {\n    this.elements.forEach((el) => {\n      el.addEventListener(`${eventType}`, cb, useCapture);\n    });\n    return this;\n  }\n  /**\n   * Removes a regular event listener\n   */\n  off(eventType: string, cb: (e: any) => any, useCapture?: boolean): Select {\n    this.elements.forEach((el) => {\n      el.removeEventListener(eventType, cb, useCapture);\n    });\n    return this;\n  }\n  /**\n   * Auto detach event listener after first call\n   * @param {string} eventType Event name\n   * @param {Function} cb Callback function\n   * @param {boolean} useCapture Use capture mode\n   */\n  once(eventType: string, cb: (e: any) => any, useCapture?: boolean): Select {\n    const ref = this;\n    const onceCb = function (e: any) {\n      cb.apply(this, [e]);\n      ref.off(eventType, onceCb, useCapture);\n    };\n    this.on(eventType, onceCb, useCapture);\n    return this;\n  }\n  /**\n   * Returns map of DOMRect objects\n   */\n  bounds(): (DOMRect | null)[] {\n    return this.map((el) => {\n      if (el instanceof HTMLElement) {\n        return el.getBoundingClientRect();\n      }\n      return null;\n    });\n  }\n  /**\n   * Sets CSS properties to element(s)\n   * @param {object} obj CSS properties\n   */\n  setCSSProps(obj: { [prop: string]: any }): Select {\n    this.elements.forEach((el) => {\n      if (el instanceof HTMLElement) {\n        Object.keys(obj).forEach((prop: any) => {\n          el.style[prop] = obj[prop];\n        });\n      }\n    });\n    return this;\n  }\n  /**\n   * Sets HTML element attributes\n   * @param {object} obj HTML element attributes\n   * @param {boolean} polite Flag to set attributes politely\n   */\n  setAttr(\n    obj: {\n      [prop: string]: string | number | boolean | null | undefined;\n    },\n    polite = false\n  ): Select {\n    this.elements.forEach((el) => {\n      if (el instanceof HTMLElement) {\n        Object.keys(obj).forEach((attr) => {\n          if (!polite || (polite && el.hasAttribute(attr))) {\n            el.setAttribute(attr, `${obj[attr]}`);\n          }\n        });\n      }\n    });\n    return this;\n  }\n  /**\n   * Enforce a repaint of targeted elements\n   */\n  reflow(): Select {\n    this.elements.forEach((el) => {\n      if (el instanceof HTMLElement) {\n        el.offsetHeight; // Accessing offset height somehow triggers a reflow\n      }\n    });\n    return this;\n  }\n  /**\n   * Returns true if current element is contained in this selector\n   * @param {Node | NodeList | HTMLCollection | Select} nodes Element\n   */\n  contains(nodes: HTMLSelector): boolean {\n    return (\n      new Select(nodes)\n        .map((n) => {\n          for (const el of this.elements) {\n            if (el.contains(n)) {\n              return true;\n            }\n          }\n          return false;\n        })\n        .indexOf(false) === -1\n    );\n  }\n  /**\n   * Removes the current element from DOM entirely\n   */\n  remove(): Select {\n    this.elements.forEach((el) => {\n      el.parentNode?.removeChild(el);\n    });\n    return this;\n  }\n  /**\n   * Emits a browser event\n   * @param {string} eventName Event name\n   * @param {any[]} args Parameters\n   */\n  emit(eventName: string, ...args: any[]): Select {\n    const customEvent = new CustomEvent(eventName, {\n      cancelable: true,\n      bubbles: true,\n      detail: {\n        args,\n      },\n    });\n    this.elements.forEach((el) => {\n      el.dispatchEvent(customEvent);\n    });\n    return this;\n  }\n  /**\n   * Static method to create a new HTML node\n   * @param {string | Node | NodeList | HTMLCollection | Node[] | Select} nodes\n   */\n  static create(nodes: HTMLTypeNodes): Select {\n    if (nodes instanceof HTMLTemplateElement) {\n      return new Select(nodes.content).children(); // Content is a fragment itself\n    }\n    return new Select(document.createDocumentFragment())\n      .append(nodes)\n      .children();\n  }\n}\n","import { Select, HTMLSelector } from '../Select';\n\nexport class CursorPlacement {\n  target: Select;\n  targetPlacement: DOMRect | null;\n  windowProps: {\n    width: number;\n    height: number;\n  };\n  constructor(event: MouseEvent, element: HTMLSelector) {\n    const win = (typeof document !== 'undefined' && document.defaultView) || {\n      innerWidth: 0,\n      innerHeight: 0,\n    };\n    this.target = new Select(element);\n    this.targetPlacement = this.target.bounds()[0];\n    this.windowProps = {\n      width: win.innerWidth,\n      height: win.innerHeight,\n    };\n    this.target.setCSSProps({\n      position: 'fixed',\n      top: `${this.getClientY(event)}px`,\n      left: `${this.getClientX(event)}px`,\n      maxWidth: `${this.windowProps.width - 10}px`,\n      maxHeight: `${this.windowProps.height - 10}px`,\n      overflow: 'auto',\n    });\n  }\n  /**\n   * Returns context menu's approximate position on X axis\n   * @param {Event} event Event object\n   */\n  getClientX(event: MouseEvent): number {\n    if (this.targetPlacement) {\n      const displacement =\n        event.clientX + this.targetPlacement.width - this.windowProps.width;\n      if (displacement > 0) {\n        return event.clientX - displacement - 4;\n      }\n    }\n    return event.clientX;\n  }\n  /**\n   * Returns context menu's approximate position on Y axis\n   * @param {Event} event Event object\n   */\n  getClientY(event: MouseEvent): number {\n    if (this.targetPlacement) {\n      const displacement =\n        event.clientY + this.targetPlacement.height - this.windowProps.height;\n      if (displacement > 0) {\n        return event.clientY - displacement - 4;\n      }\n    }\n    return event.clientY;\n  }\n}\n","import { ContextMenu } from '..';\nimport { Select } from '../Select';\nimport { isEnvBrowser } from '../helpers';\n\nexport class Beacon<T extends HTMLElement> {\n  #parentThis: ContextMenu<T>;\n  #root?: Select;\n  #beaconEvent = 'closecontextmenu';\n  #resolver?: (value: boolean) => void;\n  constructor(parentThis: ContextMenu<T>) {\n    this.#parentThis = parentThis;\n    if (isEnvBrowser()) {\n      this.#root = new Select(document);\n    }\n  }\n\n  emit(): void {\n    if (this.#root) {\n      this.#root.emit(this.#beaconEvent, this.#parentThis);\n    }\n  }\n\n  #beaconListener = (e: Event): void => {\n    const { args } = (e as CustomEvent).detail as { args: [ContextMenu<T>] };\n    if (typeof this.#resolver === 'function') {\n      this.#resolver(args[0] !== this.#parentThis);\n    }\n  };\n\n  listen(resolve: (value: boolean) => void): void {\n    this.#resolver = resolve;\n    this.#root?.on(this.#beaconEvent, this.#beaconListener);\n  }\n\n  off(): void {\n    this.#root?.off(this.#beaconEvent, this.#beaconListener);\n    this.#resolver = undefined;\n  }\n}\n","import { Select } from '../Select';\n\ntype ContextMenuCallback<U extends Event> = (event: U, ...args: any[]) => void;\n\ntype ContextMenuClickCallback<U extends Event> = (\n  event: U,\n  target: Select,\n  ...args: any[]\n) => boolean | Promise<boolean> | void;\n\ntype ContextMenuActivateCallback = (rootEl: Select, ...args: any[]) => void;\n\ntype ContextMenuDeactivateCallback = (\n  rootEl: Select,\n  cb: (...args: any[]) => void,\n  ...args: any[]\n) => void;\n\ntype ContextMenuClosedCallback = (...args: any) => void;\n\ntype ContextMenuGenericCallback = () => void;\n\nexport interface ContextMenuEventMap<T extends Event> {\n  contextmenu: ContextMenuCallback<T>;\n  click: ContextMenuClickCallback<T>;\n  activate: ContextMenuActivateCallback;\n  deactivate: ContextMenuDeactivateCallback;\n  closed: ContextMenuClosedCallback;\n  beforecleanup: ContextMenuGenericCallback;\n  cleaned: ContextMenuGenericCallback;\n}\n\nexport type ContextMenuHandler<\n  T extends Event,\n  K extends keyof ContextMenuEventMap<T>\n> = {\n  type: K;\n  handler: ContextMenuEventMap<T>[K];\n};\n\nexport class EventEmitter<U extends Event> {\n  #ref: Select;\n  #handlers = [] as ContextMenuHandler<U, keyof ContextMenuEventMap<U>>[];\n  constructor(thisRef: Select) {\n    this.#ref = thisRef;\n  }\n  on<K extends keyof ContextMenuEventMap<U>>(\n    type: K,\n    handler: ContextMenuEventMap<U>[K]\n  ): void {\n    this.#handlers.push({\n      type,\n      handler,\n    });\n  }\n  off<K extends keyof ContextMenuEventMap<U>>(\n    targetType?: K,\n    targetHandler?: ContextMenuEventMap<U>[K]\n  ): void {\n    if (typeof targetType !== 'string') {\n      this.#handlers.length = 0;\n    } else {\n      this.#handlers = this.#handlers.filter(({ type, handler }) => {\n        return !(\n          type === targetType &&\n          (typeof targetHandler === 'undefined' || handler === targetHandler)\n        );\n      });\n    }\n  }\n  emit<K extends keyof ContextMenuEventMap<U>>(type: K, ...args: any[]): any[] {\n    const returnedValues: any[] = [];\n    this.#handlers.forEach((currEvent) => {\n      if (currEvent.type === type) {\n        returnedValues.push((currEvent.handler as any).apply(this.#ref, args));\n      }\n    });\n    return returnedValues;\n  }\n  hasListener<K extends keyof ContextMenuEventMap<U>>(type: K): boolean {\n    return Boolean(this.#handlers.filter((evt) => evt.type === type).length);\n  }\n}\n","import { Select } from './Select';\nimport { CursorPlacement } from './CursorPlacement';\nimport { Beacon } from './Beacon';\nimport { EventEmitter, ContextMenuEventMap } from './EventEmitter';\nimport { isEnvBrowser, asyncResolve } from './helpers';\n\nexport interface ContextMenuConfig<T extends HTMLElement, U extends Event> {\n  rootElement?: T;\n  onClick?: (event: U) => boolean | void;\n  onActivate?: (elements: Select) => void;\n  onDeactivate?: (elements: Select, callback: () => void) => void;\n  onContextMenu?: (event: U) => void;\n  onBeforeCleanup?: () => boolean | Promise<boolean>;\n}\n\nexport interface ContextListConfig<\n  T extends HTMLElement,\n  U extends HTMLElement\n> {\n  rootElement?: T;\n  listElement?: U;\n}\n\nexport interface ContextItemConfig<T extends HTMLElement> {\n  rootElement?: T;\n}\n\nexport class ContextMenu<T extends HTMLElement> {\n  #open = false;\n  #active = false;\n  #doc?: Select;\n  #beacon: Beacon<T>;\n  #eventEmitter: EventEmitter<Event>;\n  #body: Select;\n  contextTarget: Select;\n  isSupported: boolean;\n  rootElement: Select;\n  config: ContextMenuConfig<T, Event> = {};\n  constructor(target?: string | null, config?: ContextMenuConfig<T, Event>) {\n    this.#beacon = new Beacon(this);\n    this.config = Object.freeze((typeof config === 'object' && config) || {});\n    this.#body = new Select().getBodyTag();\n    this.contextTarget =\n      typeof target === 'string' ? new Select(target) : this.#body;\n    this.contextTarget.setAttr(\n      {\n        'aria-haspopup': true,\n        'aria-expanded': false,\n      },\n      true\n    );\n    this.isSupported = Boolean(this.contextTarget.elements.length);\n    this.rootElement = Select.create(\n      this.config.rootElement\n        ? this.config.rootElement\n        : `<ul class=\"context-menu-list\"></ul>`\n    )\n      .setAttr({ 'data-cm-root': true })\n      .on('click', this.#onRootClick);\n    this.contextTarget\n      .setAttr({ 'data-cm-host': true })\n      .on('contextmenu', this.#onContextMenu);\n    if (isEnvBrowser()) {\n      this.#doc = new Select(document);\n      this.#doc.on('click', this.#onClick);\n    }\n    this.#beacon.listen((shouldClose) => {\n      if (shouldClose) {\n        this.#onClick();\n      }\n    });\n    this.#eventEmitter = new EventEmitter<Event>(this.rootElement);\n  }\n  // Private functions\n  #exitFunction = (...args: any[]): void => {\n    this.rootElement = this.rootElement.detach().children();\n    this.#open = false;\n    this.#active = false;\n    this.contextTarget.setAttr(\n      {\n        'aria-expanded': false,\n      },\n      true\n    );\n    this.#eventEmitter.emit('closed', ...args);\n  };\n  #onClick = (): void => {\n    if (this.#active) {\n      if (\n        typeof this.config.onDeactivate === 'function' ||\n        this.#eventEmitter.hasListener('deactivate')\n      ) {\n        this.#open = true;\n        if (this.config.onDeactivate) {\n          this.config.onDeactivate(this.rootElement, this.#exitFunction);\n        }\n        this.#eventEmitter.emit(\n          'deactivate',\n          this.rootElement,\n          this.#exitFunction\n        );\n      } else {\n        this.#exitFunction();\n      }\n    }\n  };\n  #getReferenceTarget = (target: EventTarget | null): Select => {\n    const currentTarget = new Select(target);\n    return currentTarget\n      .getAllParents()\n      .add(currentTarget)\n      .filter((el) => {\n        return el instanceof HTMLElement && el.hasAttribute('data-cm-host');\n      });\n  };\n  #onContextMenu = (e: MouseEvent): void => {\n    e.preventDefault();\n    e.stopPropagation(); // For nested context menus\n    this.#beacon.emit(); // Sends notification to other context menu instances to automatically close\n    this.#active = true;\n    if (!this.#open) {\n      this.#getReferenceTarget(e.target).setAttr(\n        {\n          'aria-expanded': true,\n        },\n        true\n      );\n      this.#body.append(this.rootElement);\n      new CursorPlacement(e, this.rootElement);\n      if (typeof this.config.onActivate === 'function') {\n        this.rootElement.reflow();\n        this.config.onActivate.apply(this.rootElement, [this.rootElement]);\n      }\n      if (typeof this.config.onContextMenu === 'function') {\n        this.config.onContextMenu.apply(this.rootElement, [e]);\n      }\n      this.#eventEmitter.emit('activate', this.rootElement);\n      this.#eventEmitter.emit('contextmenu', e);\n    }\n  };\n  #onRootClick = async (e: Event): Promise<void> => {\n    e.stopPropagation();\n    if (\n      typeof this.config.onClick === 'function' ||\n      this.#eventEmitter.hasListener('click')\n    ) {\n      if (this.config.onClick) {\n        if (\n          await asyncResolve<boolean>(\n            this.config.onClick.apply(new Select(e.target), [e])\n          )\n        ) {\n          this.#onClick();\n        }\n      }\n      this.#eventEmitter\n        .emit('click', e, new Select(e.target))\n        .forEach(\n          async (shouldExit: boolean | Promise<boolean>): Promise<void> => {\n            if (await asyncResolve<boolean>(shouldExit)) {\n              this.#onClick();\n            }\n          }\n        );\n    }\n  };\n  #onBeforeCleanup = (\n    cb: () => boolean | Promise<boolean>\n  ): boolean | Promise<boolean> | void => {\n    if (typeof cb === 'function') {\n      const result = cb();\n      return typeof result === 'undefined' || result;\n    }\n    return true;\n  };\n  #performCleanup = (): void => {\n    this.contextTarget\n      .off('contextmenu', this.#onContextMenu)\n      .off('click', this.#onClick);\n    this.rootElement.off('click', this.#onRootClick).remove();\n    if (isEnvBrowser()) {\n      this.#doc?.off('click', this.#onClick);\n    }\n    this.#beacon.off();\n    this.#eventEmitter.emit('cleaned');\n    this.#eventEmitter.off();\n    this.#active = false;\n    this.#open = false;\n  };\n  // Public methods\n  add(\n    ...args: (\n      | ContextList<HTMLElement, HTMLElement>\n      | ContextItem<HTMLElement>\n    )[]\n  ): ContextMenu<T> {\n    const elements = [...args];\n    for (const element of elements) {\n      if (element instanceof ContextList || element instanceof ContextItem) {\n        this.rootElement.append(element.rootElement);\n      }\n    }\n    return this;\n  }\n  async cleanup(): Promise<void> {\n    this.#eventEmitter.emit('beforecleanup');\n    if (typeof this.config.onBeforeCleanup === 'function') {\n      if (\n        await asyncResolve<boolean>(\n          this.#onBeforeCleanup(this.config.onBeforeCleanup)\n        )\n      ) {\n        this.#performCleanup();\n      }\n    } else {\n      this.#performCleanup();\n    }\n  }\n  on<K extends keyof ContextMenuEventMap<Event>>(\n    event: K,\n    handler: ContextMenuEventMap<Event>[K]\n  ): ContextMenu<T> {\n    this.#eventEmitter.on(event, handler);\n    return this;\n  }\n  off<K extends keyof ContextMenuEventMap<Event>>(\n    event?: K,\n    handler?: ContextMenuEventMap<Event>[K]\n  ): ContextMenu<T> {\n    this.#eventEmitter.off(event, handler);\n    return this;\n  }\n}\n\n// Generates a context list\nexport class ContextList<T extends HTMLElement, U extends HTMLElement> {\n  config: ContextListConfig<T, U> = {};\n  rootElement: Select;\n  listElement: Select;\n  constructor(title: string, config?: ContextListConfig<T, U>) {\n    this.config = Object.freeze((typeof config === 'object' && config) || {});\n    this.listElement = Select.create(\n      this.config.listElement\n        ? this.config.listElement\n        : `<ul class=\"context-submenu\"></ul>`\n    ).setAttr({ 'data-cm-submenu-root': true });\n    this.rootElement = Select.create(\n      this.config.rootElement\n        ? this.config.rootElement\n        : `<li class=\"menu-item\"></li>`\n    )\n      .setAttr({\n        'data-sub-elements': true,\n      })\n      .append(title)\n      .append(this.listElement);\n  }\n  get parent(): Select | null {\n    return this.rootElement.parent;\n  }\n  add(\n    ...args: (\n      | ContextList<HTMLElement, HTMLElement>\n      | ContextItem<HTMLElement>\n    )[]\n  ): ContextList<T, U> {\n    const elements = [...args];\n    for (const element of elements) {\n      if (element instanceof ContextList || element instanceof ContextItem) {\n        this.listElement.append(element.rootElement);\n      }\n    }\n    return this;\n  }\n  remove(): void {\n    this.rootElement.remove();\n  }\n}\n\n// Generates a context item\nexport class ContextItem<T extends HTMLElement> {\n  config: ContextItemConfig<T> = {};\n  rootElement: Select;\n  constructor(title: string, config?: ContextItemConfig<T>) {\n    this.config = Object.freeze((typeof config === 'object' && config) || {});\n    this.rootElement = Select.create(\n      this.config.rootElement\n        ? this.config.rootElement\n        : `<li class=\"menu-item\"></li>`\n    )\n      .setAttr({ 'data-cm-leaf': true })\n      .append(title);\n  }\n  remove(): void {\n    this.rootElement.remove();\n  }\n}\n"],"names":["classExtractFieldDescriptor","classApplyDescriptorGet","classApplyDescriptorSet","undefined","require$$0","_arrayLikeToArray","arrayLikeToArray","_unsupportedIterableToArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","isEnvBrowser","document","Boolean","body","asyncResolve","input","isPromise","returnValue","console","error","win","defaultView","CustomEvent","event","params","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","prototype","Event","Select","selector","elements","querySelectorAll","Node","EventTarget","NodeList","HTMLCollection","Object","hasOwnProperty","call","i","length","push","parent","getParentNode","parentNodeList","map","el","parentNode","filter","currRef","parentsList","add","selected","forEach","HTMLElement","children","child","indexOf","nodes","consumableNodes","tempDiv","createElement","innerHTML","childNodes","target","appendChild","fragment","createDocumentFragment","n","cloneNode","currentFragment","detach","append","evaluatorFn","matched","selection","eventType","cb","useCapture","addEventListener","removeEventListener","ref","onceCb","e","apply","off","on","getBoundingClientRect","obj","keys","prop","style","polite","attr","hasAttribute","setAttribute","offsetHeight","contains","removeChild","eventName","args","customEvent","dispatchEvent","HTMLTemplateElement","content","CursorPlacement","element","innerWidth","innerHeight","targetPlacement","bounds","windowProps","width","height","setCSSProps","position","top","getClientY","left","getClientX","maxWidth","maxHeight","overflow","displacement","clientX","clientY","Beacon","parentThis","emit","resolve","EventEmitter","thisRef","type","handler","targetType","targetHandler","returnedValues","currEvent","ContextMenu","config","rootElement","contextTarget","setAttr","onDeactivate","hasListener","currentTarget","getAllParents","preventDefault","stopPropagation","onActivate","reflow","onContextMenu","onClick","shouldExit","result","remove","freeze","getBodyTag","isSupported","create","listen","shouldClose","ContextList","ContextItem","onBeforeCleanup","title","listElement"],"mappings":"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"}